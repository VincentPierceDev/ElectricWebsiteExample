---
import '../css/components/NavBar.css';

type NavLink = {
    text: string;
    href: string;
};

const baseUrl: string = import.meta.env.BASE_URL;

const links: NavLink[] = [
    {text: 'Home', href: `${baseUrl}/`},
    {text: 'About', href: `${baseUrl}/About`},
    {text: 'Services', href: `${baseUrl}/Services`},
    {text: 'Testimonials', href: `${baseUrl}/Testimonials`},
    {text: 'Contact', href: `${baseUrl}/Contact`}
];

const {currentPath} = Astro.props;
---

<script type="module" src=`${import.meta.env.BASE_URL}/Scripts/NavBar.js` defer></script>

<nav id="nav-bar" class="section">
    <div class="container">
        <div id="logo" class="hero-heading">
            <a href="/" class="logo-link">
                <span id="nav-logo-text">
                    Watts <span id="accent-text">
                    On <br class="logo-break">
                </span> Electric</span>
            </a>
        </div>
        <button id="nav-mobile-button" aria-expanded="false" aria-label="Toggle Navigation Menu">
            <span id="top-bar" class="button-bar"/>
            <span id="middle-bar" class="button-bar"/>
            <span id="bottom-bar" class="button-bar"/>
        </button>
        <ul id="nav-list">
            {
                links.map((link, idx) => (
                    <li>
                        <a id={`nav-link-${idx}`} class={`body-text link ${currentPath === `${link.href}` ? 'current-link' : ''}`} href={link.href} aria-current={`${currentPath === `${link.href}` ? 'true' : 'false'}`}>{link.text}</a>
                    </li>
                ))
            }
        </ul>
    </div>
</nav>
---
import '../css/Global.css';
import '../css/components/NavBar.css';

type NavLink = {
    text: string;
    href: string;
};

const links: NavLink[] = [
    {text: 'Home', href: '/'},
    {text: 'About', href: '/About'},
    {text: 'Services', href: '/Services'},
    {text: 'Testimonials', href: '/Testimonials'},
    {text: 'Contact', href: '/Contact'}
];

const {currentPath} = Astro.props;
---

<script type="module" src="/Scripts/NavBar.js" defer></script>

<nav id="nav-bar" class="section">
    <div class="container">
        <div id="logo" class="hero-heading">
            <a href="/" class="logo-link">
                <span id="nav-logo-text">
                    Watts <span id="accent-text">
                    On <br class="logo-break">
                </span> Electric</span>
            </a>
        </div>
        <button id="nav-mobile-button" aria-expanded="false" aria-label="Toggle Navigation Menu">
            <span id="top-bar" class="button-bar"/>
            <span id="middle-bar" class="button-bar"/>
            <span id="bottom-bar" class="button-bar"/>
        </button>
        <ul id="nav-list">
            {
                links.map((link, idx) => (
                    <li>
                        <a id={`nav-link-${idx}`} class={`body-text link ${currentPath === link.href ? 'current-link' : ''}`} href={link.href} aria-current={`${currentPath === link.href ? 'true' : 'false'}`}>{link.text}</a>
                    </li>
                ))
            }
        </ul>
    </div>
</nav>